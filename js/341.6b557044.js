"use strict";(self["webpackChunkshopping_cart"]=self["webpackChunkshopping_cart"]||[]).push([[341],{6341:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var s=a(3396),n=a(7139);const i={class:"container pb-5"},l=(0,s._)("div",{class:"text-start py-5"},"Breadcrumb & Filter",-1),r={class:"row px-3"};function d(e,t,a,d,c,g){const o=(0,s.up)("ProductBox"),u=(0,s.up)("Paginate");return(0,s.wg)(),(0,s.iD)("div",i,[l,(0,s._)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.pageProducts,(e=>((0,s.wg)(),(0,s.j4)(o,(0,n.vs)((0,s.dG)({key:e.id},e)),null,16)))),128))]),(0,s.Wm)(u,{modelValue:c.page,"onUpdate:modelValue":t[0]||(t[0]=e=>c.page=e),"page-count":c.pageCount,"prev-text":"«","next-text":"»","container-class":"pagination","page-class":"page-item","page-link-class":"page-link"},null,8,["modelValue","page-count"])])}const c={class:"col-lg-3 col-md-4 col-sm-6 product d-flex justify-content-center pb-5"},g=["src"],o={class:"pt-2 m-0"};function u(e,t,a,i,l,r){return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",{class:"d-flex flex-column text-start click-area",onClick:t[0]||(t[0]=e=>r.goToProduct(a.id))},[(0,s._)("img",{src:r.parseImgPath(a.pic),alt:"product image"},null,8,g),(0,s._)("h6",o,(0,n.zw)(a.name),1),(0,s._)("span",null,"NT$"+(0,n.zw)(a.price),1)])])}var p={props:{id:Number,pic:String,quantity:Number,desc:String,name:String,price:Number},methods:{parseImgPath(e){return`https://shopping-cart-bn-test.herokuapp.com/img${e}`},goToProduct(e){this.$router.push({name:"product",params:{productId:e}})}}},C=a(89);const h=(0,C.Z)(p,[["render",u],["__scopeId","data-v-fddc6b0a"]]);var k=h,P=a(9242),x=(e,t)=>{const a=e.__vccOpts||e;for(const[s,n]of t)a[s]=n;return a};const f={data(){return{innerValue:1}},props:{modelValue:{type:Number},pageCount:{type:Number,required:!0},initialPage:{type:Number,default:1},forcePage:{type:Number},clickHandler:{type:Function,default:()=>{}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String,default:"pagination"},pageClass:{type:String,default:"page-item"},pageLinkClass:{type:String,default:"page-link"},prevClass:{type:String,default:"page-item"},prevLinkClass:{type:String,default:"page-link"},nextClass:{type:String,default:"page-item"},nextLinkClass:{type:String,default:"page-link"},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},computed:{selected:{get:function(){return this.modelValue||this.innerValue},set:function(e){this.innerValue=e}},pages:function(){let e={};if(this.pageCount<=this.pageRange)for(let t=0;t<this.pageCount;t++){let a={index:t,content:t+1,selected:t===this.selected-1};e[t]=a}else{const t=Math.floor(this.pageRange/2);let a=t=>{let a={index:t,content:t+1,selected:t===this.selected-1};e[t]=a},s=t=>{let a={disabled:!0,breakView:!0};e[t]=a};for(let e=0;e<this.marginPages;e++)a(e);let n=0;this.selected-t>0&&(n=this.selected-1-t);let i=n+this.pageRange-1;i>=this.pageCount&&(i=this.pageCount-1,n=i-this.pageRange+1);for(let e=n;e<=i&&e<=this.pageCount-1;e++)a(e);n>this.marginPages&&s(n-1),i+1<this.pageCount-this.marginPages&&s(i+1);for(let e=this.pageCount-1;e>=this.pageCount-this.marginPages;e--)a(e)}return e}},methods:{handlePageSelected(e){this.selected!==e&&(this.innerValue=e,this.$emit("update:modelValue",e),this.clickHandler(e))},prevPage(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected(){return 1===this.selected},lastPageSelected(){return this.selected===this.pageCount||0===this.pageCount},selectFirstPage(){this.selected<=1||this.handlePageSelected(1)},selectLastPage(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}},beforeMount(){this.innerValue=this.initialPage},beforeUpdate(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)}},b=["tabindex","innerHTML"],y=["tabindex","innerHTML"],w=["onClick","onKeyup"],m=["tabindex","innerHTML"],L=["tabindex","innerHTML"],S=["innerHTML"],v=["innerHTML"],_=["onClick","onKeyup"],T=["innerHTML"],D=["innerHTML"];function V(e,t,a,i,l,r){return a.noLiSurround?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,n.C_)(a.containerClass)},[a.firstLastButton?((0,s.wg)(),(0,s.iD)("a",{key:0,onClick:t[8]||(t[8]=e=>r.selectFirstPage()),onKeyup:t[9]||(t[9]=(0,P.D2)((e=>r.selectFirstPage()),["enter"])),class:(0,n.C_)([a.pageLinkClass,r.firstPageSelected()?a.disabledClass:""]),tabindex:"0",innerHTML:a.firstButtonText},null,42,S)):(0,s.kq)("",!0),r.firstPageSelected()&&a.hidePrevNext?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("a",{key:1,onClick:t[10]||(t[10]=e=>r.prevPage()),onKeyup:t[11]||(t[11]=(0,P.D2)((e=>r.prevPage()),["enter"])),class:(0,n.C_)([a.prevLinkClass,r.firstPageSelected()?a.disabledClass:""]),tabindex:"0",innerHTML:a.prevText},null,42,v)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.pages,(t=>((0,s.wg)(),(0,s.iD)(s.HY,null,[t.breakView?((0,s.wg)(),(0,s.iD)("a",{key:t.index,class:(0,n.C_)([a.pageLinkClass,a.breakViewLinkClass,t.disabled?a.disabledClass:""]),tabindex:"0"},[(0,s.WI)(e.$slots,"breakViewContent",{},(()=>[(0,s.Uk)((0,n.zw)(a.breakViewText),1)]))],2)):t.disabled?((0,s.wg)(),(0,s.iD)("a",{key:t.index,class:(0,n.C_)([a.pageLinkClass,t.selected?a.activeClass:"",a.disabledClass]),tabindex:"0"},(0,n.zw)(t.content),3)):((0,s.wg)(),(0,s.iD)("a",{key:t.index,onClick:e=>r.handlePageSelected(t.index+1),onKeyup:(0,P.D2)((e=>r.handlePageSelected(t.index+1)),["enter"]),class:(0,n.C_)([a.pageLinkClass,t.selected?a.activeClass:""]),tabindex:"0"},(0,n.zw)(t.content),43,_))],64)))),256)),r.lastPageSelected()&&a.hidePrevNext?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("a",{key:2,onClick:t[12]||(t[12]=e=>r.nextPage()),onKeyup:t[13]||(t[13]=(0,P.D2)((e=>r.nextPage()),["enter"])),class:(0,n.C_)([a.nextLinkClass,r.lastPageSelected()?a.disabledClass:""]),tabindex:"0",innerHTML:a.nextText},null,42,T)),a.firstLastButton?((0,s.wg)(),(0,s.iD)("a",{key:3,onClick:t[14]||(t[14]=e=>r.selectLastPage()),onKeyup:t[15]||(t[15]=(0,P.D2)((e=>r.selectLastPage()),["enter"])),class:(0,n.C_)([a.pageLinkClass,r.lastPageSelected()?a.disabledClass:""]),tabindex:"0",innerHTML:a.lastButtonText},null,42,D)):(0,s.kq)("",!0)],2)):((0,s.wg)(),(0,s.iD)("ul",{key:0,class:(0,n.C_)(a.containerClass)},[a.firstLastButton?((0,s.wg)(),(0,s.iD)("li",{key:0,class:(0,n.C_)([a.pageClass,r.firstPageSelected()?a.disabledClass:""])},[(0,s._)("a",{onClick:t[0]||(t[0]=e=>r.selectFirstPage()),onKeyup:t[1]||(t[1]=(0,P.D2)((e=>r.selectFirstPage()),["enter"])),class:(0,n.C_)(a.pageLinkClass),tabindex:r.firstPageSelected()?-1:0,innerHTML:a.firstButtonText},null,42,b)],2)):(0,s.kq)("",!0),r.firstPageSelected()&&a.hidePrevNext?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("li",{key:1,class:(0,n.C_)([a.prevClass,r.firstPageSelected()?a.disabledClass:""])},[(0,s._)("a",{onClick:t[2]||(t[2]=e=>r.prevPage()),onKeyup:t[3]||(t[3]=(0,P.D2)((e=>r.prevPage()),["enter"])),class:(0,n.C_)(a.prevLinkClass),tabindex:r.firstPageSelected()?-1:0,innerHTML:a.prevText},null,42,y)],2)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.pages,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.index,class:(0,n.C_)([a.pageClass,t.selected?a.activeClass:"",t.disabled?a.disabledClass:"",t.breakView?a.breakViewClass:""])},[t.breakView?((0,s.wg)(),(0,s.iD)("a",{key:0,class:(0,n.C_)([a.pageLinkClass,a.breakViewLinkClass]),tabindex:"0"},[(0,s.WI)(e.$slots,"breakViewContent",{},(()=>[(0,s.Uk)((0,n.zw)(a.breakViewText),1)]))],2)):t.disabled?((0,s.wg)(),(0,s.iD)("a",{key:1,class:(0,n.C_)(a.pageLinkClass),tabindex:"0"},(0,n.zw)(t.content),3)):((0,s.wg)(),(0,s.iD)("a",{key:2,onClick:e=>r.handlePageSelected(t.index+1),onKeyup:(0,P.D2)((e=>r.handlePageSelected(t.index+1)),["enter"]),class:(0,n.C_)(a.pageLinkClass),tabindex:"0"},(0,n.zw)(t.content),43,w))],2)))),128)),r.lastPageSelected()&&a.hidePrevNext?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("li",{key:2,class:(0,n.C_)([a.nextClass,r.lastPageSelected()?a.disabledClass:""])},[(0,s._)("a",{onClick:t[4]||(t[4]=e=>r.nextPage()),onKeyup:t[5]||(t[5]=(0,P.D2)((e=>r.nextPage()),["enter"])),class:(0,n.C_)(a.nextLinkClass),tabindex:r.lastPageSelected()?-1:0,innerHTML:a.nextText},null,42,m)],2)),a.firstLastButton?((0,s.wg)(),(0,s.iD)("li",{key:3,class:(0,n.C_)([a.pageClass,r.lastPageSelected()?a.disabledClass:""])},[(0,s._)("a",{onClick:t[6]||(t[6]=e=>r.selectLastPage()),onKeyup:t[7]||(t[7]=(0,P.D2)((e=>r.selectLastPage()),["enter"])),class:(0,n.C_)(a.pageLinkClass),tabindex:r.lastPageSelected()?-1:0,innerHTML:a.lastButtonText},null,42,L)],2)):(0,s.kq)("",!0)],2))}var H=x(f,[["render",V]]),M={components:{ProductBox:k,Paginate:H},data(){return{page:1,pageCount:0,products:[],productCountPerPage:4}},mounted(){this.$axios.get("/api/products").then((e=>{this.sliceProducts(e.data),this.pageCount=this.products.length}))},watch:{page:{handler(e){this.$router.push({name:"products",query:{page:e}})}}},computed:{pageProducts(){return this.products[this.$route.query.page-1||0]}},methods:{sliceProducts(e){for(let t=0;t<e.length;t+=this.productCountPerPage){const a=e.slice(t,t+this.productCountPerPage);this.products.push(a)}}}};const B=(0,C.Z)(M,[["render",d]]);var N=B}}]);